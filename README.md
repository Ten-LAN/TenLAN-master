##仕様

* Windows10で解像度が高いモードだとバグることが判明
    * Ten-LAN自体の画面を初めに最大化する際にバグっている?

* バグ修正
    * ゲーム選択時の情報画面のスクショのずれ修正

* タイトルと紹介分のスクロール
    *文字ごとに幅が違うので、たぶん1バイトごとの幅が一番大きい大文字の英字で文字が被らないように設定

* 統計
    * 統計をとれる別ソフト追加(wiki参照)
    * Ten-LAN起動時にstatistics(月)_(日)_(年).txtからその日の統計データを、statistics_total.txtから合計の統計データを読み込み、一つのゲームの終了毎に保存する(11/2)
    * statistic(月)_(日)_(年).txtが存在しない場合およびstatistics_total.txtが存在しない時それぞれのプレイ回数及びプレイ時間を0とする(11/2)
    * データはゲームの番号、タイトル、プレイ回数、総プレイ時間、平均プレイ時間
    * 統計はゲームに割り振られた番号ごとに管理する
    * 統計は合計と日別を別々に独立して管理(合計のデータを削除したら日別の合計と合わなくなる)(11/2)

* ゲーム終了時の背景やBGMの変更
    * 背景画像を新しい3種でランダムに
    * BGMも3種でランダムに
    * tenlan2015.cpp内のUI_2015::Init(583)にて背景画像のテクスチャを作成・BGMの読み込みを行う
        * なおBGM,SEはresorce.rc内でパスを定義しているため、注意が必要 
    * それぞれBackgroundNum,MusicNumの変数を変更する。

### (ここまではコードを変更しないといけない仕様）

* ゲーム終了時に呼び出されるUI_2015クラスのInit関数により、ランダムにそれぞれの変数を変更する。
* ゲームの強制終了
    * DXライブラリで画面最大化などをすると排他制御？されてTen-LAN自体が動かないのでできない(解決策がなさそうなのでとりあえず放置)
    * スタートとセレクトを押しっぱなしでゲーム終了
    * 押しっぱなしにする時間は1秒間(10/23)
    * ウィンドウを強制的に閉じている
    * キーコンフィグに対応(10/23)

* 音量調整
    * 最初にコンフィグがなくても正常に動作するように修正(11/18)
    * Mキーかパッドのスタートで設定
    * BGMと効果音を別に設定する

* デバッグモード
    * オープニング画面でパッドのセレクトボタン(キーボードはFキーに割り当て)かTキーを押すとデバッグモードのON / OFF切り替え
    * デバッグモードでは統計が保存されない

* カテゴリ
    * 対戦カテゴリを多人数カテゴリに変更


## 更新履歴

### 2015/11/18(v1.49)

#### 更新したファイル

* tenlan2015.cpp
    * 背景を変更・追加(589〜592行目)


### 2015/11/18

#### 更新したファイル

* TenLAN.cpp
    * seの音量初期化を追加(490行目)

* Ten-LAN_Main.cpp
    * seの音量初期化を追加(742行目)

### 2015/11/2

#### 更新したファイル

* common.h
    * 統計用のファイル名を分けるためのマクロを追加(19,20行目)

* UI_Base.h
    * GAMEDATA構造体に合計とその日を別々に記録するための変数を追加(39,40行目)

* Ten-LAN_Main.cpp
    * 日付を記録するための変数date[3]を追加(49行目)
    * GetStatistics関数に日付取得用の処理などを追加(54,55,60〜67,99,100,109〜150行目)
    * SaveStatistics関数に日付に関する処理、統計の合計の保存などを追加(164,174,196,197,204〜243行目)
    * 日付が変わっていないか調べるためのCheckDate関数を追加(247〜283行目)
    * InitGameList関数にプレイ回数と時間の合計を初期化する処理を追加(377,378行目)
    * ExecProgram関数にCheckDate関数、プレイ回数の合計を増やす処理を追加(507,552行目)
    * CheckEndProcess関数に合計の時間も加算するよう処理を追加(613行目)


### 2015/10/23

#### 更新したファイル

* common.h
    * パッドに割り当てるキーの最大数のマクロKEY_MAXを追加(26行目)
    * 効果音の音量の変数maxsevolumeを追加(64行目)
    * keys配列の大きさをKEY_AXに変更、変数pad_start,pad_selectを追加(68行目)
    * 効果音設定関数SetVolumeSEを追加(91行目)
    * 効果音の最大を得る関数GetMaxVolumeを追加(104行目)
    * 効果音の最大を与える関数SetMaxSEVolumeを追加(120行目)
    * InputSelect関数、InputStart関数、PadStart関数、PadSelect関数の宣言を追加(130,131,133,134行目)

* TenLAN.cpp
    * OP関数内でスタートボタンで音量調整ができるように変更(68行目)
    * SetVolume関数でOP曲以外も音量変更するなど修正(154,157,162〜166,171〜175行目)
    * SEの音量を変更するSetSEVolume関数を追加(185〜217行目)
    * KeyConfig関数のキーに関する繰り返し回数などをKEY_MAXで指定(231,296〜312,319〜323行目)
    * Command_関数を音設定関数についていろいろ変更(381,384〜397行目)
    * GetMaxSEVolume関数の追加(473〜476行目)
    * SaveConfig関数内の効果音の音量設定について修正(504,510,528,533行目)
    * LoadConfig関数の修正(554,555,565,578行目)
    * SetMaxSEVolume関数を追加(646〜650行目)
    * InputSelect関数、InputStart関数、PadSelect関数、PadStart関数を追加(687〜695,702〜710行目)

* Ten-LAN_Main.cpp
    * 押しっぱなし強制終了のボタンをキーコンフィグに対応(671,672,699,700行目)

* tenlan2015.cpp
    * View関数に効果音設定の時の表示の追加(675行目)

* UIBase.h
    * 効果音設定用のフラグを追加(10行目)

### 2015/10/16

#### 更新したファイル

* Ten-LAN_Main.cpp
    * 押しっぱなしにする時間をKEEP_FOR_FINISHというマクロで指定(9行目)
    * MainLoop関数に強制終了のための処理を追加(670〜675,698〜783行目)

* Ten-LAN.cpp
    * 決定キーを○ボタン、キャンセルキーを×ボタンに修正(466,467行目)


### 2015/10/15

#### 変更点：

* tenlan2015.cpp
    * UI_2015::UI_2015
        * BackgroundNum、nowBackground変数の初期化の処理を追加(96,97)。
    * UI_2015::Init(583)
        * BackgroundNumの初期化、
    * nowBackground変数をランダムで設定する処理を追加。
    * MikanDraw->CreateTexture(tnum + 3, "material/cateicon.png");(590行)を削除。
        * どこにも使用していないテクスチャ番号だったため、一時的に削除。何か問題が出たら戻します。
    * UI_2015::SelectScreen
        * 背景描画時、nowBackgroundから値を取得するように変更(187,418)
* UI.h
    * int nowBackgorund;(92)
    * int BackgroundNum;(93)
    * 変数を追加。

### 2015/10/9 16:30

#### 更新したファイル

* UI_2014クラスをUI_2015クラスに名前変更
    * tenran2014.cppをtenlan2015.cppに名前変更(ranからlanに変わっているので注意)
* Ten-LAN_Main.cpp
    * UI_2014クラスの呼び出しをUI_2015クラスに名前変更(627行目)
* UI.h
    * UI2015クラスにタイトルのスクロールのための変数int titlescr_timeを追加(78行目)
* tenlan2015.cpp
    * UI2015のコンストラクタにtitlescr_timeの初期化を追加(95行目)
    * SelectScreen関数にゲームを選んでいるときに表示されるゲームのタイトルが長い場合にスクロールするための記述を追加(267〜287,374,378,385,392行目)
    * InfoScreen関数にゲームを選んだときに表示されるタイトルと紹介分が長い場合にスクロールするための記述、及びそのために描画範囲を制限する記述を追加(433〜439,451〜463,467〜479,538行目)
* その他いくつかコメントを追加

### 2015/10/9

#### 更新したファイル

* common.h
    * マクロに「STATISTICS_FILE」を追加(統計データ保存用のファイル名)(19行目)
    * MYSYSTEM構造体に変数int currentgame(今遊んでるゲームの識別のため)を追加(149行目)
* common.cpp
    * 何故かCountUp関数のMikanFile->Openの第三引数が"a"だと動かなかったので"a+"に変更(50行目)
* UIBase.h
    * struct GAMEDATAの定義に統計用のデータを追加(36,37行目)
* Ten-LAN_Main.cpp
    * ゲームの開始時刻を得るための変数time_t starttimeを追加(46行目)
    * 以前の統計を得るためのGetStatistics関数の追加(48〜98行目)
    * 統計を保存するためのSaveStatistics関数の追加(100〜146行目)
    * 上記のGAMEDATA及びMYSYSTEMの変更に伴いInitGameList関数に処理を加える(238,239,252行目)
* ExecProgram関数に処理を3つ加える(406〜412行目)
    * プレイ時間計測の処理とSaveStatistics関数をCheckEndProcess関数に加える(447,466〜474行目)
    * UserInit関数にGetStatistics関数を加える(613行目)
* その他いくつかコメントを追加
